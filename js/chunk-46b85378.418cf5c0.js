(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46b85378","chunk-739df28a","chunk-2d0d01d8"],{6734:function(e,t,n){"use strict";n.r(t),n.d(t,"crudOptions",(function(){return c}));var c=function(e){return{pageOptions:{compact:!0},options:{height:"100%"},formOptions:{defaultSpan:24},searchOptions:{valueChange:!0},columns:[{title:"ID",key:"id",width:90,form:{disabled:!0}},{title:"省",key:"province",sortable:!0,search:{disabled:!1},type:"select",dict:{url:"/linkage/province",value:"id"},form:{valueChange:function(e,t,n,c){c.getColumn,c.mode,c.component,c.immediate;var r=c.getComponent;n.city=void 0,n.county=void 0,t&&r("city").reloadDict()},valueChangeImmediate:!1}},{title:"市",key:"city",sortable:!0,search:{disabled:!1},type:"select",dict:{url:function(e,t){var n=t.form;t.component;if(n&&null!=n.province)return"/linkage/city?province="+n.province},value:"id"},form:{component:{props:{dict:{cache:!1}}},valueChange:function(e,t,n,c){c.mode,c.getColumn,c.component,c.immediate;var r=c.getComponent;if(t){n.county=void 0;var o=r("county");n&&n.province&&n.city?o.reloadDict():o.clearDict()}}}},{title:"区",key:"county",sortable:!0,search:{disabled:!1},type:"select",dict:{value:"id",url:function(e,t){var n=t.form;t.component;if(null!=n.province&&null!=n.city)return"/linkage/county?province="+n.province+"&city="+n.city}},form:{component:{props:{dict:{cache:!1}}},valueChange:function(e,t){console.log("您选择了：",t)}}}]}}},"9ed3":function(e,t,n){"use strict";n.r(t),n.d(t,"GetList",(function(){return r})),n.d(t,"AddObj",(function(){return o})),n.d(t,"UpdateObj",(function(){return i})),n.d(t,"DelObj",(function(){return u}));var c=n("f58c");function r(e){return Object(c["a"])({url:"/linkage/page",method:"get",data:e})}function o(e){return Object(c["a"])({url:"/linkage/add",method:"post",data:e})}function i(e){return Object(c["a"])({url:"/linkage/update",method:"post",data:e})}function u(e){return Object(c["a"])({url:"/linkage/delete",method:"post",data:{id:e}})}},f58c:function(e,t,n){"use strict";var c=n("22ce"),r=c["c"];t["a"]=r},f8ee:function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[n("template",{slot:"header"},[e._v("选择联动 "),n("span",{staticStyle:{color:"gray","font-size":"12px"}},[e._v("【valueChange、dict全面优化】")]),n("example-helper",{attrs:{title:"select"}},[n("div",[n("link-button",{attrs:{type:"text",target:"_blank",href:"http://greper.gitee.io/d2-crud-plus/guide/types.html#选择框"}},[e._v("选择组件类型")]),n("link-button",{attrs:{type:"text",href:"http://greper.gitee.io/d2-crud-plus/guide/components/dict-select.html"}},[e._v("DictSelect组件")])],1)])],1),n("d2-crud-x",e._g(e._b({ref:"d2Crud"},"d2-crud-x",e._crudProps,!1),e._crudListeners),[n("div",{attrs:{slot:"header"},slot:"header"},[n("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch,"search-data-change":e.handleSearchDataChange}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addRow}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新增")]),n("crud-toolbar",{attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}})],1)])],2)},r=[],o=n("9ed3"),i=n("6734"),u=n("1fbf"),a={name:"formLinkage",mixins:[u["d2CrudPlus"].crud],data:function(){return{show:!0}},mounted:function(){console.log("dict cache：",u["d2CrudPlus"].util.dict.getCache())},methods:{getCrudOptions:function(){return Object(i["crudOptions"])(this)},pageRequest:function(e){return Object(o["GetList"])(e)},addRequest:function(e){return Object(o["AddObj"])(e)},updateRequest:function(e){return e.city||(e.city=null),e.county||(e.county=null),Object(o["UpdateObj"])(e)},delRequest:function(e){return Object(o["DelObj"])(e.id)}}},d=a,s=n("2877"),l=function(e){e.options.__source="src/business/modules/example/views/form/linkage/index.vue"},p=l,f=Object(s["a"])(d,c,r,!1,null,null,null);"function"===typeof p&&p(f);t["default"]=f.exports}}]);